
#/usr/bin/env python

from native_api_builders import make_api_header
Import("env_native_api")

with open("ls_api.gen.h", "w") as f:
    f.write(make_api_header())

env = env_native_api.Clone()

env["CPPDEFINES"] = ""
env["LIBS"] = []

shsuffix = ".so"

if env["platform"] == "windows":
    shsuffix = ".dll"

sources = [
    "test_initialize.c",
]

api_client = env.SharedLibrary("#/bin/libapi_client%s" % shsuffix, sources)
Default(api_client)