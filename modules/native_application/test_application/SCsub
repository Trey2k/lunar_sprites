
#/usr/bin/env python

from api_builder import make_api_header
Import("env_native_api")

with open("ls_api.gen.h", "w") as f:
    f.write(make_api_header())

env = env_native_api.Clone()

env["CPPDEFINES"] = ""
env["LIBS"] = []

shsuffix = ".so"

if env["platform"] == "windows":
    shsuffix = ".dll"

sources = [
    "test_app.c",
]

env.add_shared_library("#/bin/application%s" % shsuffix, sources)